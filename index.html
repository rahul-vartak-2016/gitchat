<!DOCTYPE html>
<html ng-app="chatApp">
	<head>
		<title>ChatApp</title>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	    <meta name="description" content="ChatApp project">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="/stylesheets/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/icon?family=Material+Icons">
		<link rel='stylesheet' type="text/css" href='/stylesheets/bootstrap-material-design.min.css' />
		<link rel='stylesheet' type="text/css" href='/stylesheets/style.css' />
		<script src="/js/underscore-min.js"></script>
		<script src="/js/angular.min.js"></script>
		<script src="/js/angular-route.min.js"></script>
		<script src="/js/app.js"></script>
	</head>
	<body ng-controller="chatController">
		<div class="alert alert-info alert-dismissible"><h1>ChatApp</h1></div>

		<div class="col-xs-12 col-md-4">

			<div class="panel panel-info">
				<div class="panel-heading"><h4>Online Users</h4></div>
				<ul class="list-group panel-body">
				   <li class="list-group-item" ng-repeat="user in users">
				      <h4 class="list-group-item-heading">
				      	<a ng-click="switchChatGroup(currentUser._id, user._id)" ng-class="{'online-user':user.status}">
				      		<i class="material-icons text-info profile-icon" ng-class="{'online-user':user.status}">portrait</i>{{ user.name }}
				      	</a>
				      </h4>
					  <hr />
				  </li>
				</ul>
			</div>

			<div class="panel panel-success">
				<div class="panel-heading"><h4>Welcome {{ currentUser.name }}!</h4></div>
				<ul class="list-group panel-body">
				   <li class="list-group-item" ng-repeat="user in users">
				      <h4 class="list-group-item-heading">
				      	<a ng-click="switchUser(user._id)" ng-class="{'online-user':user.status}">
				      		<i class="material-icons text-info profile-icon" ng-class="{'online-user':user.status}">portrait</i>{{ user.name }}
				      	</a>
				      </h4>
					  <hr />
				  </li>
				</ul>
			</div>

		</div>
		<div class="col-xs-12 col-md-8 panel panel-body">
			<ul class="list-group">
				<li class="bg-info list-group-item" ng-repeat="message in messages">
					<span class="label label-info">
						{{ message.senderName }}
					</span> 
					<div class="alert alert-dismissible alert-info clearfix">
						{{ message.message }}
					</div>
					<hr class="clearfix" />
				</li>
			</ul>
			
			<form class="container-fluid" method="post">
				<div class="form-group">
					<input class="form-control" id="inputMessageText" name="inputMessageText" type="text" placeholder="Start chatting!" ng-model="inputMessageText">
			        <button class="btn btn-info btn-raised" ng-click="sendChat()">Enter</button>
			    </div>
			</form>
		</div>
	</body>
</html>